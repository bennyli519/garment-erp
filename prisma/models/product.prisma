model Product {
  id          String    @id @default(uuid())
  code        String    @unique  // 款号
  name        String    // 款式名称
  description String?   // 款式描述
  status      String    // draft, active, inactive
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // 关联
  processes   ProductProcessAssignment[]
  colors      ProductColorAssignment[]    // 关联颜色
  sizes       ProductSizeAssignment[]     // 关联尺码
  brands      ProductBrandAssignment[]    // 关联商标
  productionOrders ProductionOrder[]

  @@map("products")
}

model ProductProcessAssignment {
  id          String    @id @default(uuid())
  productId   String
  processId   String
  sequence    Int       // 工序顺序
  remark      String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // 关联
  product     Product   @relation(fields: [productId], references: [id])
  process     Process   @relation(fields: [processId], references: [id])

  @@map("product_process_assignments")
} 