model Department {
  id          String    @id @default(uuid())
  name        String
  code        String    @unique
  parentId    String?
  path        String    // 存储部门层级路径
  level       Int       // 部门层级
  status      String    // active, inactive
  companyId   String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  // 关联
  company     Company     @relation(fields: [companyId], references: [id])
  parent      Department?  @relation("DepartmentTree", fields: [parentId], references: [id])
  children    Department[] @relation("DepartmentTree")
  employees   Employee[]
  users       User[]

  @@map("departments")
} 